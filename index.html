<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Today's Task</title> 
  <link rel="stylesheet" href="style.css">
   <link rel="icon" href="logo.png" type="image/png">
</head>
<body>
  <h2>âœ… Make A Day</h2>
  <div id="task-section">
    <div id="completion-message"></div>
    <div id="completion-status">Task Completion: 0%</div><br>
    <input type="text" id="task-input" placeholder="Add a task...">
    <button id="add-task-btn" onclick="addTask()">Create Task</button>
    <ul id="task-list"></ul>
  </div>

  <script>
    const taskList = document.getElementById("task-list");
    const completionStatus = document.getElementById("completion-status");
    const completionMessage = document.getElementById("completion-message");

    // Load tasks from localStorage when page loads
    window.onload = function() {
      const savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];
      savedTasks.forEach(taskText => {
        const li = document.createElement("li");
        li.innerHTML = `
          <span>${taskText}</span>
          <button class="complete-btn" onclick="completeTask(this)">Complete</button>
        `;
        taskList.appendChild(li);
      });
      updateCompletion();
    };

    function saveTasks() {
      const tasks = Array.from(taskList.querySelectorAll("li span")).map(span => span.textContent);
      localStorage.setItem("tasks", JSON.stringify(tasks));
    }

    function addTask() {
      const taskInput = document.getElementById("task-input");
      const taskText = taskInput.value.trim();
      if (taskText) {
        const li = document.createElement("li");
        li.innerHTML = `
          <span>${taskText}</span>
          <button class="complete-btn" onclick="completeTask(this)">Complete</button>
        `;
        taskList.appendChild(li);
        taskInput.value = "";
        saveTasks();
        updateCompletion();
      }
    }

    function completeTask(button) {
      const li = button.parentElement;
      li.remove(); // Remove the completed task from the list
      saveTasks(); // Update storage
      updateCompletion();
    }

    function updateCompletion() {
      const tasks = taskList.querySelectorAll("li");
      const total = tasks.length;
      const percent = total === 0 ? 100 : 0; // All tasks done when list empty

      completionStatus.textContent = `Task Completion: ${percent}%`;
      completionMessage.innerHTML = "";

      if (total === 0) {
        const msg = document.createElement("div");
        msg.className = "message full-message";
        msg.textContent = "ðŸŽ‰ Awesome! You Did It!";
        completionMessage.appendChild(msg);
      }
    }
  </script>
</body>

</html>
